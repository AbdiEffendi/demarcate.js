<!DOCTYPE html>
<html>
    <head>
        <title>DemarcateJS demo</title>

        <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="css/demarcate.css">
        <style type="text/css">
            body, html { margin: 0; font-family: 'Open Sans', sans-serif; }
            body { padding: 30px; }
            
            div#container, div#output {
                width: 42%;
                padding: 2%;
                margin: auto;
                float: left;
                border: 1px solid #ccc;
            }
            
            div#output {
                background: #666;
                color: white;
                margin-left: 2%;
            }
        </style>
    </head>

    <body>
        <h1>demarcate.js demonstration</h1>
        <p>
            Click on an element in the left hand box below to edit.  Click outside
            the editor or hit <strong>enter</strong> to close.  When the editor box 
            closes, the markdown will appear in the right hand box.
        </p>

        <div id="container">
            <h1>Some Text</h1>
            <h2>Some Text</h2>
            <h3>Some Text</h3>
            <h4>Some Text</h4>
            <h5>Some Text</h5>
            <h6>Some Text</h6>

            <p>Some more text</p>

            <blockquote>A blockquote</blockquote>

            <p>Some text <a href="asdf.html">with embedded link</a> and more text</p>

            <hr>

            <ul>
                <li>What about lists?</li>
                <li>At least a couple of items</li>
            </ul>

            <hr />
        </div>
        
        <div id="output"></div>

        <script src="http://code.jquery.com/jquery.min.js" type="text/javascript"></script>
        <script src="js/jquery.autosize.js" type="text/javascript"></script>
        
        <!-- Include demarcate.js -->
        <script src="js/demarcate.js" type="text/javascript"></script>
        <script type="text/javascript">

            /* 
             * The following code is all that is required to get demarcate running
             * on your web page.  To get the rendered output you can call demarcate()
             * on any div.
             */
            $(document).ready( function() {
                // Enable all whitelisted elements in the '#container' dom element
                // for demarcation.  
                $('#container').enable_demarcate();

                // bind a handler to the 'demarcate_editor_closed' event.  This allows
                // the rendered markdown to be immediately placed in the '#output' div.
                // new lines are replaced with <br> tags for rending in browser
                $(document).bind('demarcate_editor_closed', function(e, elem) {
                    var op = demarcate_dom_root.demarcate();
                    op = op.replace(/\n/g, '<br/>');
                    $("#output").html(op);
                });
            });
        </script>
    </body>
</html>